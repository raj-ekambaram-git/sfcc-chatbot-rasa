#### This file contains tests to evaluate that your bot behaves as expected.
#### If you want to learn more, please see the docs: https://rasa.com/docs/rasa/testing-your-assistant

stories:
  - story: welcome user
    steps:
      - user: |
          welcome user
        intent: welcome
      - action: action_welcome_user

  - story: greet anytime the user greets
    steps:
      - user: |
          hello there
        intent: greet
      - action: action_greet_user
      - action: utter_popular_questions

  - story: say goodbye anytime the user says goodbye
    steps:
      - user: |
          goodbye
        intent: goodbye
      - action: utter_goodbye

  - story: say goodbye anytime the user says thanks
    steps:
      - user: |
          thanks
        intent: thankyou
      - action: utter_goodbye

  # Start - HEARING DATE FLOW
  - story: get hearing date when case number is provided
    steps:
      - user: |
          when is my hearing date for case [195705581]{"entity": "case_number"}?
        intent: get_hearing_date
      - action: action_fetch_hearing_date
      - user: |
          yes
        intent: affirm
      - action: utter_popular_questions

  - story: get hearing date when case number is not provided and user knows case number
    steps:
      - user: |
          when is my next hearing date?
        intent: get_hearing_date
      - action: utter_know_case_number
      - user: |
          yes
        intent: affirm
      - action: utter_ask_case_number
      - user: |
          my case number is [195705581]{"entity": "case_number"}
        intent: provide_case_number
      - action: action_fetch_hearing_date
      - user: |
          yes
        intent: affirm
      - action: utter_popular_questions

  - story: get hearing date when case number is not provided and user knows case number
    steps:
      - user: |
          when is my next hearing date?
        intent: get_hearing_date
      - action: utter_know_case_number
      - user: |
          yes
        intent: affirm
      - action: utter_ask_case_number
      - user: |
          my case number is [195705581]{"entity": "case_number"}
        intent: provide_case_number
      - action: action_fetch_hearing_date
      - user: |
          no
        intent: deny
      - action: utter_check_user_satisfaction
      - user: |
          yes
        intent: affirm
      - action: utter_goodbye
      - action: action_restart

  - story: get hearing date when case number is not provided and user knows case number; with feedback
    steps:
      - user: |
          when is my next hearing date?
        intent: get_hearing_date
      - action: utter_know_case_number
      - user: |
          yes
        intent: affirm
      - action: utter_ask_case_number
      - user: |
          my case number is [195705581]{"entity": "case_number"}
        intent: provide_case_number
      - action: action_fetch_hearing_date
      - user: |
          no
        intent: deny
      - action: utter_check_user_satisfaction
      - user: |
          no
        intent: deny
      - action: feedback_form
      - active_loop: feedback_form
      - user: |
          skip
        intent: stop
      - action: feedback_form
      - active_loop: null
      - action: action_save_feedback
      - action: utter_thanks
      - action: action_restart

  - story: get hearing date when case number is not provided and user knows case number; and types / selects in; with feedback
    steps:
      - user: |
          when is my next hearing date?
        intent: get_hearing_date
      - action: utter_know_case_number
      - user: |
          yes
        intent: affirm
      - action: utter_ask_case_number
      - user: |
          my case number is [195705581]{"entity": "case_number"}
        intent: provide_case_number
      - action: action_fetch_hearing_date
      - user: |
          when is my next hearing date for [justice]{"entity": "court_type"} case [195705581]{"entity": "case_number"} at location [1890]{"entity": "location_code"}
        intent: get_hearing_date
      - action: action_fetch_hearing_date
      - user: |
          yes
        intent: affirm
      - action: utter_popular_questions

  - story: get hearing date when case number is not provided and user does not know case number; user has a single case
    steps:
      - user: |
          when is my next hearing date?
        intent: get_hearing_date
      - action: utter_know_case_number
      - user: |
          no
        intent: deny
      - action: action_fetch_hearing_date
      - user: |
          yes
        intent: affirm
      - action: utter_popular_questions

  - story: get hearing date when case number is not provided and user does not know case number; user has a multiple case
    steps:
      - user: |
          when is my next hearing date?
        intent: get_hearing_date
      - action: utter_know_case_number
      - user: |
          no
        intent: deny
      - action: action_fetch_hearing_date
      - user: |
          when is my next hearing date for [justice]{"entity": "court_type"} case [195705581]{"entity": "case_number"} at location [1890]{"entity": "location_code"}
        intent: get_hearing_date
      - action: action_fetch_hearing_date
      - user: |
          yes
        intent: affirm
      - action: utter_popular_questions
  # End - HEARING DATE FLOW

  # Start - CASE INFORMATION FLOW
  - story: get case files when case number is provided
    steps:
      - user: |
          information on my case [195705581]{"entity": "case_number"}?
        intent: get_case_information
      - action: action_fetch_case_information
      - user: |
          yes
        intent: affirm
      - action: utter_popular_questions

  - story: get case files when case number is not provided and user knows case number
    steps:
      - user: |
          information on my case?
        intent: get_case_information
      - action: utter_know_case_number
      - user: |
          yes
        intent: affirm
      - action: utter_ask_case_number
      - user: |
          my case number is [195705581]{"entity": "case_number"}
        intent: provide_case_number
      - action: action_fetch_case_information
      - user: |
          yes
        intent: affirm
      - action: utter_popular_questions

  - story: get case files when case number is not provided and user knows case number
    steps:
      - user: |
          information on my case?
        intent: get_case_information
      - action: utter_know_case_number
      - user: |
          yes
        intent: affirm
      - action: utter_ask_case_number
      - user: |
          my case number is [195705581]{"entity": "case_number"}
        intent: provide_case_number
      - action: action_fetch_case_information
      - user: |
          no
        intent: deny
      - action: utter_check_user_satisfaction
      - user: |
          yes
        intent: affirm
      - action: utter_goodbye
      - action: action_restart

  - story: get case files when case number is not provided and user knows case number; with feedback
    steps:
      - user: |
          information on my case?
        intent: get_case_information
      - action: utter_know_case_number
      - user: |
          yes
        intent: affirm
      - action: utter_ask_case_number
      - user: |
          my case number is [195705581]{"entity": "case_number"}
        intent: provide_case_number
      - action: action_fetch_case_information
      - user: |
          no
        intent: deny
      - action: utter_check_user_satisfaction
      - user: |
          no
        intent: deny
      - action: feedback_form
      - active_loop: feedback_form
      - user: |
          skip
        intent: stop
      - action: feedback_form
      - active_loop: null
      - action: action_save_feedback
      - action: utter_thanks
      - action: action_restart

  - story: get case files when case number is not provided and user knows case number
    steps:
      - user: |
          information on my case?
        intent: get_case_information
      - action: utter_know_case_number
      - user: |
          yes
        intent: affirm
      - action: utter_ask_case_number
      - user: |
          my case number is [195705581]{"entity": "case_number"}
        intent: provide_case_number
      - action: action_fetch_case_information
      - user: |
          where can I find information on my [justice]{"entity": "court_type"} case [195705581]{"entity": "case_number"} at location [1890]{"entity": "location_code"}
        intent: get_case_information
      - action: action_fetch_case_information
      - user: |
          yes
        intent: affirm
      - action: utter_popular_questions

  - story: get case files when case number is not provided and user does not know case number; user has a single case
    steps:
      - user: |
          information on my case?
        intent: get_case_information
      - action: utter_know_case_number
      - user: |
          no
        intent: deny
      - action: action_fetch_case_information
      - user: |
          yes
        intent: affirm
      - action: utter_popular_questions

  - story: get case files when case number is not provided and user does not know case number; user has multiple cases
    steps:
      - user: |
          information on my case?
        intent: get_case_information
      - action: utter_know_case_number
      - user: |
          no
        intent: deny
      - action: action_fetch_case_information
      - user: |
          where can I find information on my [justice]{"entity": "court_type"} case [195705581]{"entity": "case_number"} at location [1890]{"entity": "location_code"}
        intent: get_case_information
      - action: action_fetch_case_information
      - user: |
          yes
        intent: affirm
      - action: utter_popular_questions
  # End - CASE INFORMATION FLOW

  # Start - CASE CHARGES FLOW
  - story: get case charges when case number is provided
    steps:
      - user: |
          offenses on my case [195705581]{"entity": "case_number"}?
        intent: get_charges
      - action: action_fetch_charges
      - user: |
          yes
        intent: affirm
      - action: utter_popular_questions

  - story: get case charges when case number is not provided and user knows case number
    steps:
      - user: |
          charges on my case?
        intent: get_charges
      - action: utter_know_case_number
      - user: |
          yes
        intent: affirm
      - action: utter_ask_case_number
      - user: |
          my case number is [195705581]{"entity": "case_number"}
        intent: provide_case_number
      - action: action_fetch_charges
      - user: |
          yes
        intent: affirm
      - action: utter_popular_questions

  - story: get case charges when case number is not provided and user knows case number
    steps:
      - user: |
          charges on my case?
        intent: get_charges
      - action: utter_know_case_number
      - user: |
          yes
        intent: affirm
      - action: utter_ask_case_number
      - user: |
          my case number is [195705581]{"entity": "case_number"}
        intent: provide_case_number
      - action: action_fetch_charges
      - user: |
          no
        intent: deny
      - action: utter_check_user_satisfaction
      - user: |
          yes
        intent: affirm
      - action: utter_goodbye
      - action: action_restart

  - story: get case charges when case number is not provided and user knows case number; with feedback
    steps:
      - user: |
          charges on my case?
        intent: get_charges
      - action: utter_know_case_number
      - user: |
          yes
        intent: affirm
      - action: utter_ask_case_number
      - user: |
          my case number is [195705581]{"entity": "case_number"}
        intent: provide_case_number
      - action: action_fetch_charges
      - user: |
          no
        intent: deny
      - action: utter_check_user_satisfaction
      - user: |
          no
        intent: deny
      - action: feedback_form
      - active_loop: feedback_form
      - user: |
          skip
        intent: stop
      - action: feedback_form
      - active_loop: null
      - action: action_save_feedback
      - action: utter_thanks
      - action: action_restart

  - story: get case charges when case number is not provided and user knows case number
    steps:
      - user: |
          offenses on my case?
        intent: get_charges
      - action: utter_know_case_number
      - user: |
          yes
        intent: affirm
      - action: utter_ask_case_number
      - user: |
          case number [195705581]{"entity": "case_number"}
        intent: provide_case_number
      - action: action_fetch_charges
      - user: |
          where are the offenses on my [justice]{"entity": "court_type"} case [195705581]{"entity": "case_number"} at location [1890]{"entity": "location_code"}
        intent: get_charges
      - action: action_fetch_charges
      - user: |
          yes
        intent: affirm
      - action: utter_popular_questions

  - story: get case charges when case number is not provided and user does not know case number; user has a single case
    steps:
      - user: |
          offenses on my case?
        intent: get_charges
      - action: utter_know_case_number
      - user: |
          no
        intent: deny
      - action: action_fetch_charges
      - user: |
          yes
        intent: affirm
      - action: utter_popular_questions

  - story: get case charges when case number is not provided and user does not know case number; user has multiple cases; with feedback
    steps:
      - user: |
          charges on my case?
        intent: get_charges
      - action: utter_know_case_number
      - user: |
          no
        intent: deny
      - action: action_fetch_charges
      - user: |
          where are the offenses on my [justice]{"entity": "court_type"} case [195705581]{"entity": "case_number"} at location [1890]{"entity": "location_code"}
        intent: get_charges
      - action: action_fetch_charges
      - user: |
          no
        intent: deny
      - action: utter_check_user_satisfaction
      - user: |
          no
        intent: deny
      - action: feedback_form
      - active_loop: feedback_form
      - user: |
          skip
        intent: stop
      - action: feedback_form
      - active_loop: null
      - action: action_save_feedback
      - action: utter_thanks
      - action: action_restart
  # End - CASE CHARGES FLOW

  # Start - CASE PARTIES FLOW
  - story: get case parties when case number is provided
    steps:
      - user: |
          parties on my case, [195705581]{"entity": "case_number"}?
        intent: get_parties
      - action: action_fetch_parties
      - user: |
          yes
        intent: affirm
      - action: utter_popular_questions

  - story: get case parties when case number is not provided and user knows case number; with feedback
    steps:
      - user: |
          parties on my case?
        intent: get_parties
      - action: utter_know_case_number
      - user: |
          yes
        intent: affirm
      - action: utter_ask_case_number
      - user: |
          my case number is [195705581]{"entity": "case_number"}
        intent: provide_case_number
      - action: action_fetch_parties
      - user: |
          no
        intent: deny
      - action: utter_check_user_satisfaction
      - user: |
          no
        intent: deny
      - action: feedback_form
      - active_loop: feedback_form
      - user: |
          skip
        intent: stop
      - action: feedback_form
      - active_loop: null
      - action: action_save_feedback
      - action: utter_thanks
      - action: action_restart

  - story: get case parties when case number is not provided and user knows case number
    steps:
      - user: |
          parties on my case?
        intent: get_parties
      - action: utter_know_case_number
      - user: |
          yes
        intent: affirm
      - action: utter_ask_case_number
      - user: |
          my case number is [195705581]{"entity": "case_number"}
        intent: provide_case_number
      - action: action_fetch_parties
      - user: |
          no
        intent: deny
      - action: utter_check_user_satisfaction
      - user: |
          yes
        intent: affirm
      - action: utter_goodbye
      - action: action_restart

  - story: get case parties when case number is not provided and user knows case number
    steps:
      - user: |
          parties on my case?
        intent: get_parties
      - action: utter_know_case_number
      - user: |
          yes
        intent: affirm
      - action: utter_ask_case_number
      - user: |
          my case number is [195705581]{"entity": "case_number"}
        intent: provide_case_number
      - action: action_fetch_parties
      - user: |
          yes
        intent: affirm
      - action: utter_popular_questions

  - story: get case parties when case number is not provided and user knows case number
    steps:
      - user: |
          parties on my case?
        intent: get_parties
      - action: utter_know_case_number
      - user: |
          yes
        intent: affirm
      - action: utter_ask_case_number
      - user: |
          case number [195705581]{"entity": "case_number"}
        intent: provide_case_number
      - action: action_fetch_parties
      - user: |
          find parties correlated to my case [195705581]{"entity": "case_number"} [justice]{"entity": "court_type"} at location [1890]{"entity": "location_code"}
        intent: get_parties
      - action: action_fetch_parties
      - user: |
          yes
        intent: affirm
      - action: utter_popular_questions

  - story: get case parties when case number is not provided and user does not know case number; user has a single case
    steps:
      - user: |
          parties on my case?
        intent: get_parties
      - action: utter_know_case_number
      - user: |
          no
        intent: deny
      - action: action_fetch_parties
      - user: |
          yes
        intent: affirm
      - action: utter_popular_questions

  - story: get case parties when case number is not provided and user does not know case number; user has multiple cases
    steps:
      - user: |
          parties on my case?
        intent: get_parties
      - action: utter_know_case_number
      - user: |
          no
        intent: deny
      - action: action_fetch_parties
      - user: |
          find parties correlated to my case [195705581]{"entity": "case_number"} [justice]{"entity": "court_type"} at location [1890]{"entity": "location_code"}
        intent: get_parties
      - action: action_fetch_parties
      - user: |
          yes
        intent: affirm
      - action: utter_popular_questions
  # End - CASE PARTIES FLOW

  # Start - CASE PAYMENT FLOW
  - story: get case payment when case number is provided
    steps:
      - user: |
          payment on my case, [195705581]{"entity": "case_number"}?
        intent: get_payment
      - action: action_fetch_payment
      - user: |
          yes
        intent: affirm
      - action: utter_popular_questions

  - story: get case payment when case number is not provided and user knows case number
    steps:
      - user: |
          payment on my case?
        intent: get_payment
      - action: utter_know_case_number
      - user: |
          yes
        intent: affirm
      - action: utter_ask_case_number
      - user: |
          my case number is [195705581]{"entity": "case_number"}
        intent: provide_case_number
      - action: action_fetch_payment
      - user: |
          yes
        intent: affirm
      - action: utter_popular_questions

  - story: get case payment when case number is not provided and user knows case number
    steps:
      - user: |
          payment on my case?
        intent: get_payment
      - action: utter_know_case_number
      - user: |
          yes
        intent: affirm
      - action: utter_ask_case_number
      - user: |
          my case number is [195705581]{"entity": "case_number"}
        intent: provide_case_number
      - action: action_fetch_payment
      - user: |
          no
        intent: deny
      - action: utter_check_user_satisfaction
      - user: |
          yes
        intent: affirm
      - action: utter_goodbye
      - action: action_restart

  - story: get case payment when case number is not provided and user knows case number; with feedback
    steps:
      - user: |
          payment on my case?
        intent: get_payment
      - action: utter_know_case_number
      - user: |
          yes
        intent: affirm
      - action: utter_ask_case_number
      - user: |
          my case number is [195705581]{"entity": "case_number"}
        intent: provide_case_number
      - action: action_fetch_payment
      - user: |
          no
        intent: deny
      - action: utter_check_user_satisfaction
      - user: |
          no
        intent: deny
      - action: feedback_form
      - active_loop: feedback_form
      - user: |
          skip
        intent: stop
      - action: feedback_form
      - active_loop: null
      - action: action_save_feedback
      - action: utter_thanks
      - action: action_restart

  - story: get case payment when case number is not provided and user knows case number
    steps:
      - user: |
          payment on my case?
        intent: get_payment
      - action: utter_know_case_number
      - user: |
          yes
        intent: affirm
      - action: utter_ask_case_number
      - user: |
          case number [195705581]{"entity": "case_number"}
        intent: provide_case_number
      - action: action_fetch_payment
      - user: |
          payments on my [justice]{"entity": "court_type"} case [195705581]{"entity": "case_number"} at location [1890]{"entity": "location_code"}
        intent: get_payment
      - action: action_fetch_payment
      - user: |
          yes
        intent: affirm
      - action: utter_popular_questions

  - story: get case payment when case number is not provided and user does not know case number; user has a single case
    steps:
      - user: |
          payment on my case?
        intent: get_payment
      - action: utter_know_case_number
      - user: |
          no
        intent: deny
      - action: action_fetch_payment
      - user: |
          yes
        intent: affirm
      - action: utter_popular_questions

  - story: get case payment when case number is not provided and user does not know case number; user has multiple cases
    steps:
      - user: |
          payment on my case?
        intent: get_payment
      - action: utter_know_case_number
      - user: |
          no
        intent: deny
      - action: action_fetch_payment
      - user: |
          payments on my [justice]{"entity": "court_type"} case [195705581]{"entity": "case_number"} at location [1890]{"entity": "location_code"}
        intent: get_payment
      - action: action_fetch_payment
      - user: |
          yes
        intent: affirm
      - action: utter_popular_questions
  # End - CASE PAYMENT FLOW

  # Start - FILE UPLOAD FLOW
  - story: upload file information when case number is provided
    steps:
      - user: |
          upload file for my case, [195705581]{"entity": "case_number"}?
        intent: get_file_upload_information
      - action: action_fetch_file_upload_information
      - user: |
          no
        intent: deny
      - action: utter_goodbye

  - story: upload file information when case number is not provided and user knows case number
    steps:
      - user: |
          upload file for my case?
        intent: get_file_upload_information
      - action: utter_know_case_number
      - user: |
          yes
        intent: affirm
      - action: utter_ask_case_number
      - user: |
          my case number is [195705581]{"entity": "case_number"}
        intent: provide_case_number
      - action: action_fetch_file_upload_information
      - user: |
          yes
        intent: affirm
      - action: utter_popular_questions

  - story: upload file information when case number is not provided and user knows case number
    steps:
      - user: |
          upload file for my case?
        intent: get_file_upload_information
      - action: utter_know_case_number
      - user: |
          yes
        intent: affirm
      - action: utter_ask_case_number
      - user: |
          case number [195705581]{"entity": "case_number"}
        intent: provide_case_number
      - action: action_fetch_file_upload_information
      - user: |
          file upload for my [justice]{"entity": "court_type"} case [195705581]{"entity": "case_number"} at location [1890]{"entity": "location_code"}
        intent: get_file_upload_information
      - action: action_fetch_file_upload_information
      - user: |
          yes
        intent: affirm
      - action: utter_popular_questions

  - story: upload file information when case number is not provided and user does not know case number; user has a single case
    steps:
      - user: |
          upload file for my case?
        intent: get_file_upload_information
      - action: utter_know_case_number
      - user: |
          no
        intent: deny
      - action: action_fetch_file_upload_information
      - user: |
          no
        intent: deny
      - action: utter_goodbye

  - story: upload file information when case number is not provided and user does not know case number; user has multiple cases
    steps:
      - user: |
          file upload for my case?
        intent: get_file_upload_information
      - action: utter_know_case_number
      - user: |
          no
        intent: deny
      - action: action_fetch_file_upload_information
      - user: |
          file upload for my [justice]{"entity": "court_type"} case [195705581]{"entity": "case_number"} at location [1890]{"entity": "location_code"}
        intent: get_file_upload_information
      - action: action_fetch_file_upload_information
      - user: |
          no
        intent: deny
      - action: utter_goodbye
  # End - FILE UPLOAD FLOW
